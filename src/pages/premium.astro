---
import BaseLayout from '../layouts/BaseLayout.astro';
import Navbar from '../components/Navbar.astro';
import Footer from '../components/Footer.astro';
import PricingToggle from '../components/PricingToggle.svelte';

const upgrade = Astro.url.searchParams.get('upgrade') === '1';
---

<BaseLayout
  title="Premium ‚Äî Diagnostic personnalis√© complet | DossierPr√™t"
  description="Obtenez un diagnostic approfondi de votre dossier immobilier. Analyse compl√®te, plan d'action prioritaire et simulations d'amortisation."
>
  <div class="min-h-screen flex flex-col">
    <Navbar currentPath="/premium" />

    <!-- Bandeau upgrade (affich√© si redirig√© depuis /diagnostic) -->
    {upgrade && (
      <div class="bg-amber-50 dark:bg-amber-900/20 border-b border-amber-100 dark:border-amber-800/50">
        <div class="container-main py-3 flex items-center gap-3">
          <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="text-amber-600 dark:text-amber-400 flex-shrink-0"><path d="M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"/></svg>
          <p class="text-sm text-amber-800 dark:text-amber-300">
            <strong>Acc√®s Premium requis</strong> ‚Äî choisissez un plan ci-dessous pour acc√©der au diagnostic complet.
          </p>
        </div>
      </div>
    )}

    <!-- Hero -->
    <section class="pt-16 pb-12 bg-gradient-to-b from-white dark:from-slate-900 to-gray-50/50 dark:to-slate-800/50 transition-colors duration-200">
      <div class="container-main text-center">
        <div class="inline-flex items-center gap-2 badge badge-dark mb-5">
          <svg width="10" height="10" viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="2.5"><path d="M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z" fill="white"/></svg>
          Diagnostic personnalis√©
        </div>
        <h1 class="text-4xl sm:text-5xl font-bold text-gray-900 dark:text-white tracking-tight mb-4">
          Analyse compl√®te de votre<br class="hidden sm:block" /> dossier bancaire
        </h1>
        <p class="text-lg text-gray-500 dark:text-slate-400 max-w-xl mx-auto">
          Analyse compl√®te de votre dossier bancaire ‚Äî plus d'action prioritaire
        </p>
      </div>
    </section>

    <!-- Pricing tiers (interactive toggle) -->
    <section class="py-12 bg-gray-50 dark:bg-slate-800/50 transition-colors duration-200">
      <div class="container-main">
        <PricingToggle client:load />
      </div>
    </section>

    <!-- What's included in Premium -->
    <section class="py-16 bg-white dark:bg-slate-900 border-t border-gray-100 dark:border-slate-800 transition-colors duration-200">
      <div class="container-main">
        <div class="text-center mb-10">
          <h2 class="text-2xl sm:text-3xl font-bold text-gray-900 dark:text-white">Ce qui est inclus dans le Premium</h2>
          <p class="text-gray-500 dark:text-slate-400 mt-2 max-w-xl mx-auto">
            Un diagnostic complet pour identifier vos chances d'acceptation bancaire.
          </p>
        </div>

        <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-5">
          {[
            {
              icon: 'üìä',
              title: 'Analyse compl√®te √† titre HCSF',
              desc: '√âvaluation exhaustive de tous les param√®tres r√©glementaires : ratio d\'endettement, apport, stabilit√© ‚Äî plus les √©ventuels points de blocage.',
            },
            {
              icon: 'üéØ',
              title: 'Identification pr√©cise des signaux de risque',
              desc: 'Identification des points n√©gatifs les plus impactants pour votre dossier, avec hi√©rarchisation par priorit√©.',
            },
            {
              icon: 'üìã',
              title: "Plan d'action priorit√©",
              desc: 'Recommandations concr√®tes et actionnables pour am√©liorer votre profil avant de soumettre votre demande.',
            },
            {
              icon: 'üìà',
              title: "Simulations d'amortisation (optionnel)",
              desc: 'Projections et sc√©narios optimis√©s selon diff√©rentes configurations de pr√™t.',
            },
            {
              icon: 'üîí',
              title: 'Tr√®s confidentiel',
              desc: 'Aucune donn√©e transmise √† des tiers. Votre analyse reste strictement priv√©e et s√©curis√©e.',
            },
            {
              icon: '‚ö°',
              title: 'Aucun impact sur votre banque',
              desc: "Contrairement √† une demande de cr√©dit, notre diagnostic n'est pas inscrit dans les bases de donn√©es bancaires.",
            },
          ].map(feat => (
            <div class="card hover:shadow-card-md transition-shadow duration-200">
              <div class="text-2xl mb-3">{feat.icon}</div>
              <h3 class="text-sm font-semibold text-gray-900 dark:text-white mb-2">{feat.title}</h3>
              <p class="text-sm text-gray-500 dark:text-slate-400 leading-relaxed">{feat.desc}</p>
            </div>
          ))}
        </div>
      </div>
    </section>

    <!-- Social proof / stats -->
    <section class="py-14 bg-gray-50 dark:bg-slate-800/50 border-y border-gray-100 dark:border-slate-800 transition-colors duration-200">
      <div class="container-main">
        <div class="grid grid-cols-1 sm:grid-cols-3 gap-8 text-center max-w-2xl mx-auto">
          {[
            { value: '35%', label: 'Taux d\'endettement max', sub: 'R√®gle HCSF en vigueur' },
            { value: '25 ans', label: 'Dur√©e maximale', sub: 'Pour la plupart des banques' },
            { value: '10%', label: 'Apport minimum', sub: 'Recommand√© par les banques' },
          ].map(stat => (
            <div>
              <div class="text-3xl font-black text-gray-900 dark:text-white">{stat.value}</div>
              <div class="text-sm font-semibold text-gray-700 dark:text-slate-300 mt-1">{stat.label}</div>
              <div class="text-xs text-gray-400 dark:text-slate-500 mt-0.5">{stat.sub}</div>
            </div>
          ))}
        </div>
      </div>
    </section>

    <!-- FAQ -->
    <section class="py-16 bg-white dark:bg-slate-900 transition-colors duration-200">
      <div class="container-main max-w-2xl">
        <div class="text-center mb-10">
          <h2 class="text-2xl sm:text-3xl font-bold text-gray-900 dark:text-white">Questions fr√©quentes</h2>
          <p class="text-gray-500 dark:text-slate-400 mt-2">Tout ce vous devez savoir sur DossierPr√™t.</p>
        </div>

        <div class="space-y-3">
          {[
            {
              q: 'Est-ce que mon diagnostic influence l\'attribution du pr√™t ?',
              a: "Non. DossierPr√™t est un outil d'analyse p√©dagogique ind√©pendant. Il n'a aucun lien avec les banques et n'appara√Æt pas dans les bases de donn√©es bancaires.",
            },
            {
              q: 'Avez-vous acc√®s √† mes donn√©es bancaires ?',
              a: "Non. Vous saisissez vous-m√™me vos donn√©es et elles ne sont pas stock√©es ni transmises. Votre diagnostic reste enti√®rement confidentiel.",
            },
            {
              q: 'Mon r√©sultat est-il garanti ?',
              a: "Non. Il s'agit d'une simulation bas√©e sur des crit√®res standards. Les d√©cisions bancaires r√©elles d√©pendent de nombreux autres facteurs propres √† chaque √©tablissement.",
            },
            {
              q: 'Puis-je annuler mon abonnement ?',
              a: "Le plan Premium est un acc√®s unique par rapport. Il n'y a pas d'abonnement pour ce plan. Le plan Pro peut √™tre annul√© √† tout moment.",
            },
            {
              q: 'Quelle est la diff√©rence avec un simulateur de pr√™t ?',
              a: "Un simulateur de pr√™t calcule des mensualit√©s. DossierPr√™t analyse votre profil bancaire pour identifier les risques de refus ‚Äî pas le montant que vous pouvez emprunter.",
            },
          ].map((faq, i) => (
            <details class="group card p-0 overflow-hidden">
              <summary class="flex items-center justify-between p-5 cursor-pointer list-none">
                <span class="text-sm font-medium text-gray-900 dark:text-white">{faq.q}</span>
                <svg class="w-4 h-4 text-gray-400 transition-transform duration-200 group-open:rotate-180 flex-shrink-0 ml-3" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round"><path d="m6 9 6 6 6-6"/></svg>
              </summary>
              <div class="px-5 pb-5">
                <p class="text-sm text-gray-500 dark:text-slate-400 leading-relaxed">{faq.a}</p>
              </div>
            </details>
          ))}
        </div>
      </div>
    </section>

    <!-- CTA Banner -->
    <section class="py-16 bg-gray-900 text-white">
      <div class="container-main text-center">
        <h2 class="text-3xl sm:text-4xl font-bold mb-4">Pr√™t √† optimiser votre dossier&nbsp;?</h2>
        <p class="text-gray-400 text-lg mb-8 max-w-xl mx-auto">
          Obtenez votre analyse compl√®te et personnalis√©e. Maximisez vos chances d'acceptation bancaire.
        </p>
        <a href="/" class="inline-flex items-center justify-center gap-2 px-7 py-3.5 bg-white text-gray-900 font-semibold text-sm rounded-xl hover:bg-gray-100 transition-colors">
          D√©marrer mon diagnostic Premium
          <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round"><path d="M5 12h14"/><path d="m12 5 7 7-7 7"/></svg>
        </a>
      </div>
    </section>

    <Footer />
  </div>
</BaseLayout>
